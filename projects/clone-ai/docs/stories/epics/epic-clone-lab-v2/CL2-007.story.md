# Story CL2-007: Constantin Mind - Implementation

**Story ID:** CL2-007
**Epic:** EPIC-CLONE-LAB-V2
**Phase:** 1 - Foundation
**Status:** Ready
**Points:** 5
**Author:** Morgan (PM)

---

## Description

Implementar a **Constantin Mind**, especialista em traduzir traços de personalidade em instruções práticas. Inspirado em Constantin Stanislavski, esta mind converte análises abstratas em diretivas concretas de comportamento.

### Persona

```yaml
id: constantin
name: Constantin
inspiration: Constantin Stanislavski
expertise:
  - Trait translation
  - Behavioral directives
  - Method acting principles
  - Practical implementation
tone: pragmatic
```

---

## Acceptance Criteria

```gherkin
Given synthesized personality traits from Charlie
When Constantin mind translates
Then it should generate behavioral directives

Given abstract personality descriptions
When Constantin mind processes
Then it should create concrete examples

Given specific scenarios
When Constantin mind analyzes
Then it should predict behavioral responses

Given the translation is complete
When Constantin mind returns results
Then it should include actionable directives
```

---

## Technical Requirements

### Implementation

```typescript
// packages/minds/src/constantin/implementation-mind.ts

import { IMind, MindContext, MindResult, MindPersona } from '../base';

export class ConstantinMind implements IMind {
  readonly persona: MindPersona = {
    id: 'constantin',
    name: 'Constantin',
    inspiration: 'Constantin Stanislavski',
    expertise: [
      'Trait translation',
      'Behavioral directives',
      'Method acting principles',
      'Practical implementation'
    ],
    tone: 'pragmatic'
  };

  async analyze(context: MindContext): Promise<MindResult> {
    // 1. Get Charlie's synthesis
    const charlieResults = context.previousResults?.get('charlie');

    // 2. Translate traits to directives
    const directives = await this.translateToDirectives(charlieResults);

    // 3. Generate behavioral examples
    const examples = await this.generateExamples(directives);

    // 4. Create scenario responses
    const scenarios = await this.createScenarioResponses(directives);

    // 5. Build implementation profile
    const profile = this.buildImplementationProfile(directives, examples, scenarios);

    return {
      mindId: 'constantin',
      traits: profile.traits,
      confidence: profile.confidence,
      evidence: profile.evidence,
      recommendations: profile.recommendations,
      metadata: {
        directivesGenerated: directives.length,
        examplesCreated: examples.length,
        scenariosMapped: scenarios.length
      }
    };
  }

  async validate(result: MindResult): Promise<ValidationResult> {
    // Validate implementation results
  }

  canHandle(context: MindContext): boolean {
    return context.previousResults?.has('charlie') ?? false;
  }

  getDependencies(): MindId[] {
    return ['charlie'];
  }

  // Private methods...
  private async translateToDirectives(synthesis: MindResult): Promise<BehavioralDirective[]> {}
  private async generateExamples(directives: BehavioralDirective[]): Promise<BehaviorExample[]> {}
  private async createScenarioResponses(directives: BehavioralDirective[]): Promise<ScenarioResponse[]> {}
}
```

### Analysis Dimensions

| Dimension | Description | Output |
|-----------|-------------|--------|
| **Directives** | Concrete behavioral rules | Directive list |
| **Examples** | Illustrative behaviors | Example scenarios |
| **Scenario Responses** | How to respond to situations | Response templates |
| **Tone Calibration** | Communication style rules | Style guidelines |
| **Edge Cases** | Unusual situation handling | Edge case rules |

---

## Business Value

Constantin é a **mind de implementação** - traduz análises abstratas em regras práticas que o clone pode seguir. Sem Constantin, o clone não saberia "como agir".

**Benefícios:**
- Converte traços em comportamentos observáveis
- Cria diretivas claras para o prompt do clone
- Permite resposta consistente a cenários
- Bridge entre análise e execução

---

## Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Diretivas muito rígidas | Medium | Medium | Balancear com flexibilidade |
| Perda de nuance na tradução | Medium | Medium | Preservar contexto original |
| Cenários não cobertos | High | Low | Sistema de fallback |

---

## Scope

### In Scope
- ConstantinMind class implementation
- Trait-to-directive translation
- Behavioral example generation
- Scenario response creation
- Unit tests

### Out of Scope
- Orchestrator integration
- Other minds
- CLI commands

---

## Dependencies

| Dependency | Type | Status |
|------------|------|--------|
| CL2-001 (IMind Interface) | Package | Ready |
| CL2-006 (Charlie Mind) | Package | Pending |

---

## Dev Notes

### Directive Format

```typescript
interface BehavioralDirective {
  trait: string;           // Source trait
  directive: string;       // Concrete rule
  priority: 'high' | 'medium' | 'low';
  examples: string[];      // Behavioral examples
  exceptions: string[];    // When not to apply
}
```

---

## File List

| File | Action | Status |
|------|--------|--------|
| `packages/minds/src/constantin/implementation-mind.ts` | Create | Pending |
| `packages/minds/src/constantin/prompts.ts` | Create | Pending |
| `packages/minds/src/constantin/types.ts` | Create | Pending |
| `packages/minds/src/constantin/index.ts` | Create | Pending |
| `packages/minds/src/constantin/__tests__/implementation-mind.test.ts` | Create | Pending |

---

## Definition of Done

- [ ] Implements IMind interface correctly
- [ ] Returns valid MindResult
- [ ] Translates traits to directives
- [ ] Generates behavioral examples
- [ ] Creates scenario responses
- [ ] Unit tests pass (coverage > 80%)
- [ ] Handles edge cases gracefully
- [ ] Lint passa sem erros
- [ ] Code review aprovado

---

## QA Checklist

- [ ] Implements IMind interface correctly
- [ ] Returns valid MindResult
- [ ] Directives are concrete and actionable
- [ ] Examples illustrate directives well
- [ ] Scenario responses are consistent

---

## Change Log

| Date | Author | Description |
|------|--------|-------------|
| 2026-02-20 | Morgan (PM) | Story created |

---

*Story generated by Morgan (PM Agent) - AIOS Framework*
