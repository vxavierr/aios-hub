# Story CL2-016: Cognitive Tasks CG-001 to CG-011

**Story ID:** CL2-016
**Epic:** EPIC-CLONE-LAB-V2
**Phase:** 2 - Validation
**Status:** Ready
**Points:** 8
**Author:** Morgan (PM)

---

## Description

Implementar as 11 Validation Tasks Cognitivas (CG-001 a CG-011), responsaveis por validar a arquitetura mental, processos de pensamento e modelos mentais da personalidade sendo clonada.

### Problem Statement
A arquitetura cognitiva define como uma pessoa pensa, raciocina e processa informacao. Estas 11 tasks garantem que os modelos mentais foram adequadamente identificados e representados.

---

## Acceptance Criteria

```gherkin
Given cognitive data from extracted sources
When cognitive tasks are executed
Then all 11 tasks return valid TaskResults

Given content with reasoning patterns
When CG-001 (Reasoning Style) runs
Then it identifies and validates reasoning approaches

Given content with mental models
When CG-003 (Mental Models) runs
Then it validates identified mental models

Given content with creative thinking
When CG-009 (Creativity Patterns) runs
Then it validates creative thinking patterns
```

---

## Technical Requirements

### Task Definitions

| Task ID | Name | Description |
|---------|------|-------------|
| CG-001 | Reasoning Style | Valida estilo de raciocinio (dedutivo/indutivo/abdutivo) |
| CG-002 | Information Processing | Valida como processa informacao |
| CG-003 | Mental Models | Identifica e valida modelos mentais |
| CG-004 | Pattern Recognition | Valida reconhecimento de padroes |
| CG-005 | Abstraction Level | Valida nivel de abstracao preferido |
| CG-006 | Analogical Thinking | Valida pensamento analogico |
| CG-007 | System Thinking | Valida pensamento sistemico |
| CG-008 | Critical Thinking | Valida pensamento critico |
| CG-009 | Creativity Patterns | Valida padroes de criatividade |
| CG-010 | Attention Focus | Valida foco de atencao |
| CG-011 | Memory Patterns | Valida padroes de memoria |

### Implementation Example

```typescript
// packages/validation/src/tasks/cognitive/cg-001-reasoning-style.ts

import { IValidationTask, TaskContext, TaskResult, TaskDefinition } from '../task.interface';

export type ReasoningStyle = 'deductive' | 'inductive' | 'abductive' | 'analogical' | 'mixed';

export class CG001ReasoningStyle implements IValidationTask {
  readonly definition: TaskDefinition = {
    id: 'CG-001',
    category: 'cognitive',
    name: 'Reasoning Style',
    description: 'Validates reasoning style and logical approaches',
    requiredInputs: ['extractedData', 'mindResults'],
    outputs: ['reasoningStyle', 'confidence', 'evidence'],
    timeout: 45000,
    retryable: true,
    priority: 'high'
  };

  async execute(context: TaskContext): Promise<TaskResult> {
    const startTime = Date.now();
    const findings: TaskFinding[] = [];

    const reasoningAnalysis = await this.analyzeReasoningStyle(context.extractedData);

    // Validate reasoning consistency
    if (reasoningAnalysis.consistency < 0.5) {
      findings.push({
        type: 'warning',
        description: 'Inconsistent reasoning style detected across sources',
        severity: 'medium'
      });
    }

    // Check for reasoning depth
    if (reasoningAnalysis.examples.length < 5) {
      findings.push({
        type: 'info',
        description: 'Limited reasoning examples for robust analysis',
        severity: 'low'
      });
    }

    const score = this.calculateScore(reasoningAnalysis);

    return {
      taskId: this.definition.id,
      status: score >= 50 ? 'passed' : 'failed',
      score,
      confidence: reasoningAnalysis.confidence,
      findings,
      recommendations: this.generateRecommendations(reasoningAnalysis),
      executionTime: Date.now() - startTime,
      metadata: {
        dominantStyle: reasoningAnalysis.dominantStyle,
        styleDistribution: reasoningAnalysis.distribution,
        examplesCount: reasoningAnalysis.examples.length
      }
    };
  }

  private async analyzeReasoningStyle(data: ExtractedData[]): Promise<ReasoningAnalysis> {
    const patterns: ReasoningPattern[] = [];

    // Deductive indicators
    const deductiveMarkers = ['portanto', 'logo', 'consequentemente', 'assim sendo', 'isso implica'];
    // Inductive indicators
    const inductiveMarkers = ['geralmente', 'na maioria dos casos', 'tendemos a', 'baseado em'];
    // Abductive indicators
    const abductiveMarkers = ['provavelmente', 'a melhor explicacao', 'faz sentido que', 'sugere que'];

    for (const item of data) {
      const content = item.content.toLowerCase();

      const deductive = this.countMarkers(content, deductiveMarkers);
      const inductive = this.countMarkers(content, inductiveMarkers);
      const abductive = this.countMarkers(content, abductiveMarkers);

      if (deductive > 0 || inductive > 0 || abductive > 0) {
        patterns.push({
          source: item.id,
          deductive,
          inductive,
          abductive,
          dominant: this.getDominantType(deductive, inductive, abductive)
        });
      }
    }

    const distribution = this.calculateDistribution(patterns);
    const dominantStyle = this.getOverallDominant(distribution);

    return {
      patterns,
      dominantStyle,
      distribution,
      examples: this.extractExamples(data, dominantStyle),
      consistency: this.calculateConsistency(patterns),
      confidence: this.calculateConfidence(patterns, data.length)
    };
  }

  private calculateScore(analysis: ReasoningAnalysis): number {
    let score = 0;

    // Clarity of dominant style (up to 40 points)
    const maxDistribution = Math.max(...Object.values(analysis.distribution));
    score += maxDistribution * 40;

    // Consistency (up to 30 points)
    score += analysis.consistency * 30;

    // Number of examples (up to 30 points)
    score += Math.min(30, analysis.examples.length * 3);

    return Math.min(100, Math.round(score));
  }

  async validateInputs(context: TaskContext): Promise<boolean> {
    return context.extractedData.length > 0;
  }

  canExecute(context: TaskContext): boolean {
    return context.extractedData.length > 0;
  }

  getDependencies(): TaskId[] {
    return ['EX-001', 'BH-009']; // Source completeness and problem solving
  }
}
```

### File Structure

```
packages/validation/src/tasks/cognitive/
├── cg-001-reasoning-style.ts
├── cg-002-information-processing.ts
├── cg-003-mental-models.ts
├── cg-004-pattern-recognition.ts
├── cg-005-abstraction-level.ts
├── cg-006-analogical-thinking.ts
├── cg-007-system-thinking.ts
├── cg-008-critical-thinking.ts
├── cg-009-creativity-patterns.ts
├── cg-010-attention-focus.ts
├── cg-011-memory-patterns.ts
├── index.ts
└── __tests__/
    └── cognitive-tasks.test.ts
```

---

## Business Value

As Cognitive Tasks capturam **como a pessoa pensa**, que eh essencial para replicar processos de raciocinio e tomada de decisao no clone.

**Beneficios:**
- Valida arquitetura mental identificada
- Detecta inconsistencias cognitivas
- Fornece base para prompts de raciocinio
- Aumenta fidelidade nas respostas do clone

---

## Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Modelos mentais implicitos | High | High | Analise multi-pass com LLM |
| Variacao por dominio | Medium | Medium | Considerar contexto |
| Complexidade de analise | Medium | Low | Priorizar tarefas criticas |

---

## Scope

### In Scope
- All 11 cognitive task implementations
- Unit tests for each task
- Reasoning pattern analysis logic
- Finding and recommendation generation

### Out of Scope
- Other task categories
- Task Registry & Executor
- CLI integration

---

## Dependencies

| Dependency | Type | Status |
|------------|------|--------|
| CL2-012 (Task Interface) | Package | Pending |
| CL2-013 (Extraction Tasks) | Package | Pending |
| @clone-lab/minds (Barbara) | Package | Pending |

---

## Dev Notes

- Use linguistic markers for reasoning detection
- Consider using LLM for mental model extraction
- Implement confidence scoring based on pattern frequency
- Add cognitive bias detection as enhancement

---

## File List

| File | Action | Status |
|------|--------|--------|
| `packages/validation/src/tasks/cognitive/cg-001-reasoning-style.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-002-information-processing.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-003-mental-models.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-004-pattern-recognition.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-005-abstraction-level.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-006-analogical-thinking.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-007-system-thinking.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-008-critical-thinking.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-009-creativity-patterns.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-010-attention-focus.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/cg-011-memory-patterns.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/index.ts` | Create | Pending |
| `packages/validation/src/tasks/cognitive/__tests__/cognitive-tasks.test.ts` | Create | Pending |

---

## Definition of Done

- [ ] All 11 tasks implement IValidationTask correctly
- [ ] Each task returns valid TaskResult
- [ ] Cognitive patterns are accurately identified
- [ ] Findings are descriptive and actionable
- [ ] Unit tests pass (coverage > 80%)
- [ ] Handles edge cases gracefully
- [ ] Lint passa sem erros
- [ ] Code review aprovado

---

## QA Checklist

- [ ] All 11 tasks execute without errors
- [ ] Task results are consistent
- [ ] Patterns are accurately detected
- [ ] Confidence scores are reasonable
- [ ] Edge cases handled

---

## Change Log

| Date | Author | Description |
|------|--------|-------------|
| 2026-02-20 | Morgan (PM) | Story created |

---

*Story generated by Morgan (PM Agent) - AIOS Framework*
