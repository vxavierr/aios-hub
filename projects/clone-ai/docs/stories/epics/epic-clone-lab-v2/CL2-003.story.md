# Story CL2-003: Daniel Mind - Behavioral Patterns

**Story ID:** CL2-003
**Epic:** EPIC-CLONE-LAB-V2
**Phase:** 1 - Foundation
**Status:** Ready
**Points:** 5
**Author:** Morgan (PM)

---

## Description

Implementar a **Daniel Mind**, especialista em análise de padrões comportamentais. Inspirado em Daniel Kahneman, esta mind foca em identificar heurísticas, vieses cognitivos e padrões de tomada de decisão.

### Persona

```yaml
id: daniel
name: Daniel
inspiration: Daniel Kahneman
expertise:
  - Behavioral patterns
  - Cognitive biases
  - Decision-making heuristics
  - Risk assessment patterns
tone: analytical
```

---

## Acceptance Criteria

```gherkin
Given extracted data containing behavioral examples
When Daniel mind analyzes the data
Then it should identify decision-making patterns

Given content shows risk-taking or risk-averse behavior
When Daniel mind processes it
Then it should categorize risk tolerance

Given patterns of cognitive biases are present
When Daniel mind analyzes
Then it should identify and categorize biases

Given the analysis is complete
When Daniel mind returns results
Then it should include behavioral trait confidence scores
```

---

## Technical Requirements

### Implementation

```typescript
// packages/minds/src/daniel/behavioral-mind.ts

import { IMind, MindContext, MindResult, MindPersona } from '../base';

export class DanielMind implements IMind {
  readonly persona: MindPersona = {
    id: 'daniel',
    name: 'Daniel',
    inspiration: 'Daniel Kahneman',
    expertise: [
      'Behavioral patterns',
      'Cognitive biases',
      'Decision-making heuristics',
      'Risk assessment patterns'
    ],
    tone: 'analytical'
  };

  async analyze(context: MindContext): Promise<MindResult> {
    // 1. Get Tim's extraction results
    const timResults = context.previousResults?.get('tim');

    // 2. Identify decision-making patterns
    const decisions = await this.identifyDecisions(context.extractedData);

    // 3. Analyze risk patterns
    const riskPatterns = await this.analyzeRiskPatterns(decisions);

    // 4. Detect cognitive biases
    const biases = await this.detectBiases(context.extractedData);

    // 5. Build behavioral profile
    const profile = this.buildBehavioralProfile(decisions, riskPatterns, biases);

    return {
      mindId: 'daniel',
      traits: profile.traits,
      confidence: profile.confidence,
      evidence: profile.evidence,
      recommendations: profile.recommendations,
      metadata: {
        decisionsAnalyzed: decisions.length,
        biasesDetected: biases.length,
        riskProfile: riskPatterns.overall
      }
    };
  }

  async validate(result: MindResult): Promise<ValidationResult> {
    // Validate behavioral analysis results
  }

  canHandle(context: MindContext): boolean {
    return context.extractedData.length > 0;
  }

  getDependencies(): MindId[] {
    return ['tim'];
  }

  // Private methods...
  private async identifyDecisions(data: ExtractedData[]): Promise<Decision[]> {}
  private async analyzeRiskPatterns(decisions: Decision[]): Promise<RiskPatterns> {}
  private async detectBiases(data: ExtractedData[]): Promise<CognitiveBias[]> {}
}
```

### Analysis Dimensions

| Dimension | Description | Output |
|-----------|-------------|--------|
| **Decision Style** | How decisions are made | Analytical/Intuitive/Mixed |
| **Risk Tolerance** | Risk-taking patterns | Conservative/Moderate/Aggressive |
| **Cognitive Biases** | Identifiable biases | List of biases with evidence |
| **Time Preferences** | Short vs long-term thinking | Time horizon score |
| **Uncertainty Handling** | Dealing with ambiguity | Tolerance score |

---

## Business Value

Daniel é a **mind de comportamento** - essencial para entender como o sujeito toma decisões, assum riscos e lida com incertezas. Isso é crítico para criar clones que tomam decisões similares.

**Benefícios:**
- Identifica padrões de decisão replicáveis
- Detecta vieses cognitivos que afetam comportamento
- Permite prever reações a situações similares
- Diferencial competitivo: clonagem de "estilo de pensamento"

---

## Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Inferência errada de padrões | Medium | Medium | Confidence scores + validação cruzada |
| Poucos exemplos de decisão | Medium | Low | Flag quando dados insuficientes |
| Subjetividade na análise | Medium | Medium | Framework estruturado de categorias |

---

## Scope

### In Scope
- DanielMind class implementation
- Decision pattern identification
- Risk tolerance analysis
- Cognitive bias detection
- Unit tests

### Out of Scope
- Orchestrator integration
- Other minds
- CLI commands

---

## Dependencies

| Dependency | Type | Status |
|------------|------|--------|
| CL2-001 (IMind Interface) | Package | Ready |
| CL2-002 (Tim Mind) | Package | Ready |

---

## Dev Notes

### Prompt Template for Analysis

```
You are Daniel, a behavioral analyst inspired by Daniel Kahneman.
Your expertise is in cognitive biases, decision-making patterns, and risk assessment.

Analyze the following content for:
1. Decision-making style (analytical vs intuitive)
2. Risk tolerance patterns
3. Cognitive biases present
4. Time preference (short vs long term)
5. Uncertainty handling style

Content:
{extractedData}

Respond in JSON format with your analysis.
```

---

## File List

| File | Action | Status |
|------|--------|--------|
| `packages/minds/src/daniel/behavioral-mind.ts` | Create | Pending |
| `packages/minds/src/daniel/prompts.ts` | Create | Pending |
| `packages/minds/src/daniel/types.ts` | Create | Pending |
| `packages/minds/src/daniel/index.ts` | Create | Pending |
| `packages/minds/src/daniel/__tests__/behavioral-mind.test.ts` | Create | Pending |

---

## Definition of Done

- [ ] Implements IMind interface correctly
- [ ] Returns valid MindResult
- [ ] Identifies decision patterns correctly
- [ ] Risk tolerance analysis works
- [ ] Cognitive bias detection functional
- [ ] Unit tests pass (coverage > 80%)
- [ ] Handles edge cases gracefully
- [ ] Lint passa sem erros
- [ ] Code review aprovado

---

## QA Checklist

- [ ] Implements IMind interface correctly
- [ ] Returns valid MindResult
- [ ] Decision patterns identified
- [ ] Risk tolerance categorized
- [ ] Biases detected when present

---

## Change Log

| Date | Author | Description |
|------|--------|-------------|
| 2026-02-20 | Morgan (PM) | Story created |

---

*Story generated by Morgan (PM Agent) - AIOS Framework*
