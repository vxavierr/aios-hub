# Story CL2-005: Barbara Mind - Cognitive Architecture

**Story ID:** CL2-005
**Epic:** EPIC-CLONE-LAB-V2
**Phase:** 1 - Foundation
**Status:** Ready
**Points:** 5
**Author:** Morgan (PM)

---

## Description

Implementar a **Barbara Mind**, especialista em arquitetura cognitiva e estilos de pensamento. Inspirado em Barbara Tversky, esta mind foca em identificar como o sujeito estrutura pensamentos, usa metáforas espaciais e organiza ideias.

### Persona

```yaml
id: barbara
name: Barbara
inspiration: Barbara Tversky
expertise:
  - Cognitive architecture
  - Spatial thinking patterns
  - Mental models
  - Thought organization
tone: analytical
```

---

## Acceptance Criteria

```gherkin
Given extracted data containing thought expressions
When Barbara mind analyzes the data
Then it should identify cognitive architecture patterns

Given content shows spatial or visual metaphors
When Barbara mind processes it
Then it should categorize thinking style

Given examples of problem-solving approaches
When Barbara mind analyzes
Then it should map mental models used

Given the analysis is complete
When Barbara mind returns results
Then it should include cognitive style profile
```

---

## Technical Requirements

### Implementation

```typescript
// packages/minds/src/barbara/cognitive-mind.ts

import { IMind, MindContext, MindResult, MindPersona } from '../base';

export class BarbaraMind implements IMind {
  readonly persona: MindPersona = {
    id: 'barbara',
    name: 'Barbara',
    inspiration: 'Barbara Tversky',
    expertise: [
      'Cognitive architecture',
      'Spatial thinking patterns',
      'Mental models',
      'Thought organization'
    ],
    tone: 'analytical'
  };

  async analyze(context: MindContext): Promise<MindResult> {
    // 1. Get Tim's extraction results
    const timResults = context.previousResults?.get('tim');

    // 2. Identify cognitive architecture
    const architecture = await this.identifyArchitecture(context.extractedData);

    // 3. Analyze spatial thinking patterns
    const spatialPatterns = await this.analyzeSpatialPatterns(context.extractedData);

    // 4. Map mental models
    const mentalModels = await this.mapMentalModels(context.extractedData);

    // 5. Build cognitive profile
    const profile = this.buildCognitiveProfile(architecture, spatialPatterns, mentalModels);

    return {
      mindId: 'barbara',
      traits: profile.traits,
      confidence: profile.confidence,
      evidence: profile.evidence,
      recommendations: profile.recommendations,
      metadata: {
        architectureType: architecture.type,
        spatialScore: spatialPatterns.score,
        modelsIdentified: mentalModels.length
      }
    };
  }

  async validate(result: MindResult): Promise<ValidationResult> {
    // Validate cognitive analysis results
  }

  canHandle(context: MindContext): boolean {
    return context.extractedData.length > 0;
  }

  getDependencies(): MindId[] {
    return ['tim'];
  }

  // Private methods...
  private async identifyArchitecture(data: ExtractedData[]): Promise<CognitiveArchitecture> {}
  private async analyzeSpatialPatterns(data: ExtractedData[]): Promise<SpatialPatterns> {}
  private async mapMentalModels(data: ExtractedData[]): Promise<MentalModel[]> {}
}
```

### Analysis Dimensions

| Dimension | Description | Output |
|-----------|-------------|--------|
| **Thinking Style** | Visual/Verbal/Abstract | Primary style + secondary |
| **Abstraction Level** | Concrete vs abstract | Abstraction score |
| **Spatial Reasoning** | Use of spatial metaphors | Spatial index |
| **Mental Models** | Frameworks for understanding | Model list |
| **Information Processing** | How info is organized | Processing pattern |

---

## Business Value

Barbara é a **mind de cognição** - essencial para entender como o sujeito pensa e processa informação. Isso é crítico para criar clones que "pensam da mesma forma".

**Benefícios:**
- Identifica estilo cognitivo replicável
- Mapeia modelos mentais usados
- Permite responder questões de forma similar
- Aumenta fidelidade em raciocínios complexos

---

## Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Estilo cognitivo ambíguo | Medium | Medium | Múltiplos indicadores |
| Poucos exemplos de raciocínio | Medium | Low | Flag quando insuficiente |
| Metáforas não detectadas | Medium | Low | NLP patterns para metáforas |

---

## Scope

### In Scope
- BarbaraMind class implementation
- Cognitive architecture identification
- Spatial pattern analysis
- Mental model mapping
- Unit tests

### Out of Scope
- Orchestrator integration
- Other minds
- CLI commands

---

## Dependencies

| Dependency | Type | Status |
|------------|------|--------|
| CL2-001 (IMind Interface) | Package | Ready |
| CL2-002 (Tim Mind) | Package | Ready |

---

## Dev Notes

### Cognitive Styles Framework

```typescript
const COGNITIVE_STYLES = [
  'visual-spatial', 'verbal-linguistic', 'logical-mathematical',
  'bodily-kinesthetic', 'musical', 'interpersonal', 'intrapersonal'
];
```

---

## File List

| File | Action | Status |
|------|--------|--------|
| `packages/minds/src/barbara/cognitive-mind.ts` | Create | Pending |
| `packages/minds/src/barbara/prompts.ts` | Create | Pending |
| `packages/minds/src/barbara/types.ts` | Create | Pending |
| `packages/minds/src/barbara/index.ts` | Create | Pending |
| `packages/minds/src/barbara/__tests__/cognitive-mind.test.ts` | Create | Pending |

---

## Definition of Done

- [ ] Implements IMind interface correctly
- [ ] Returns valid MindResult
- [ ] Identifies cognitive architecture
- [ ] Spatial pattern analysis works
- [ ] Mental model mapping functional
- [ ] Unit tests pass (coverage > 80%)
- [ ] Handles edge cases gracefully
- [ ] Lint passa sem erros
- [ ] Code review aprovado

---

## QA Checklist

- [ ] Implements IMind interface correctly
- [ ] Returns valid MindResult
- [ ] Cognitive architecture identified
- [ ] Spatial patterns detected
- [ ] Mental models mapped

---

## Change Log

| Date | Author | Description |
|------|--------|-------------|
| 2026-02-20 | Morgan (PM) | Story created |

---

*Story generated by Morgan (PM Agent) - AIOS Framework*
